# BDD-сценарии для Security NFR

Feature: Время ответа логина
  Scenario: p95 логина держится под порогом
    Given сервис развернут на stage при нагрузке 50 RPS
    When запускается 5-минутный нагрузочный тест на POST /login
    Then p95 времени ответа ≤ 300 ms

Feature: Доля ошибок API
  Scenario: Процент 5xx ответов в пределах нормы
    Given генерируются запросы к /quiz с ошибками
    When собираются все ответы за 10 минут
    Then 5xx ответов ≤ 0.5%

Feature: Маскирование PII
  Scenario: Логи не содержат открытые PII
    Given приложение записывает логи с пользовательскими данными
    When просматриваются логи файла application.log
    Then не найдено незамаскированных PII

Feature: Негативный сценарий перегрузки
  Scenario: Повышенная нагрузка вызывает деградацию
    Given нагрузка 200 RPS на stage
    When запускается 5-минутный тест
    Then p95 времени ответа > 300 ms
