# Security NFR для Quiz Builder

| ID     | Название                   | Описание                                    | Метрика/Порог                   | Проверка (чем/где)           | Компонент | Приоритет |
|--------|----------------------------|---------------------------------------------|---------------------------------|------------------------------|-----------|-----------|
| NFR-01 | Время ответа логина        | p95 время ответа API /login                 | p95 ≤ 300 ms                    | Нагрузочный тест stage       | auth      | High      |
| NFR-02 | Доля ошибок 5xx            | Процент 5xx ответов                         | ≤ 0.5%                          | Grafana дашборд              | api       | Medium    |
| NFR-03 | Доступность системы        | SLA uptime                                  | ≥ 99.9%                         | Postman мониторинг           | infra     | High      |
| NFR-04 | Ротация секретов           | Автоматическая ротация каждые 30 дней       | TTL ≤ 30 дней                   | Vault политика + audit log   | security  | Medium    |
| NFR-05 | Задержка БД                | p95 latency запросов к БД                   | p95 ≤ 100 ms                    | APM отчёт                    | db        | Medium    |
| NFR-06 | Маскирование PII           | Нет открытого PII в логах                   | 100% маскировка                 | E2E тесты логов              | logging   | High      |
| NFR-07 | Поддержка зависимостей     | Устранение критичных уязвимостей ≤ 7 дней   | ≤ 7 дней                        | CI SCA scan                  | build     | High      |
| NFR-08 | Шифрование паролей         | Argon2id параметры t=3,m=256MB,p=1          | t=3, m=256MB, p=1               | Unit-тесты + code review     | auth      | High      |
